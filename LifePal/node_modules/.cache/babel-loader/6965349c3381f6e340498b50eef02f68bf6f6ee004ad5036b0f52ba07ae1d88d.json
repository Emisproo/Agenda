{"ast":null,"code":"var _jsxFileName = \"D:\\\\MyPortfolio\\\\Agenda\\\\AgendaRepo\\\\LifePal\\\\src\\\\pages\\\\EditContact.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Navigate } from 'react-router-dom';\nimport { get, ref, update, onValue, push } from 'firebase/database';\nimport { fireDB } from '../firebase';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditContact = () => {\n  _s();\n  const navigate = Navigate();\n  const [state, setState] = useState({});\n  const [data, setData] = useState({});\n  const {\n    id\n  } = useParams();\n  const {\n    name,\n    email,\n    contact\n  } = state;\n  useEffect(() => {\n    const contactsRef = ref(fireDB, 'contacts');\n    onValue(contactsRef, snapshot => {\n      if (snapshot.exists()) {\n        setData({\n          ...snapshot.val()\n        });\n      } else {\n        setData({});\n      }\n    });\n    return () => {\n      setData({});\n    };\n  }, [id]);\n  useEffect(() => {\n    if (id && data[id]) {\n      const {\n        name,\n        email,\n        contact\n      } = data[id];\n      setState({\n        name,\n        email,\n        contact\n      });\n    } else {\n      setState({});\n    }\n  }, [id, data]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!name || !email || !contact) {\n      toast.error('Please provide a value in each input field');\n    } else {\n      const contactRef = ref(fireDB, `contacts/${id}`);\n      update(contactRef, {\n        name,\n        email,\n        contact\n      }).then(() => {\n        toast.success('Contact updated successfully');\n        return /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 18\n        }, this);\n      }).catch(error => {\n        toast.error(error.message);\n      });\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setState(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  if (id) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Editing Contact with ID: \", id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 12\n    }, this);\n  }\n  if (id) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '100px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        style: {\n          margin: 'auto',\n          padding: '15px',\n          maxWidth: '400px',\n          alignContent: 'center'\n        },\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"name\",\n          name: \"name\",\n          placeholder: \"Your name\",\n          value: state.name || '',\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          name: \"email\",\n          placeholder: \"Your email\",\n          value: state.email || '',\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"contact\",\n          children: \"Contact\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"contact\",\n          name: \"contact\",\n          placeholder: \"Your contact number\",\n          value: state.contact || '',\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: id ? 'Update' : 'Save'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }, this);\n  }\n  ;\n};\n_s(EditContact, \"hfIqfaRt37QKxkGKwSXa241/pio=\", false, function () {\n  return [useParams];\n});\n_c = EditContact;\nexport default EditContact;\nvar _c;\n$RefreshReg$(_c, \"EditContact\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Navigate","get","ref","update","onValue","push","fireDB","toast","jsxDEV","_jsxDEV","EditContact","_s","navigate","state","setState","data","setData","id","name","email","contact","contactsRef","snapshot","exists","val","handleSubmit","e","preventDefault","error","contactRef","then","success","to","fileName","_jsxFileName","lineNumber","columnNumber","catch","message","handleInputChange","value","target","prevState","children","style","marginTop","margin","padding","maxWidth","alignContent","onSubmit","htmlFor","type","placeholder","onChange","_c","$RefreshReg$"],"sources":["D:/MyPortfolio/Agenda/AgendaRepo/LifePal/src/pages/EditContact.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, Navigate } from 'react-router-dom';\r\nimport { get, ref, update, onValue, push} from 'firebase/database';\r\nimport { fireDB } from '../firebase';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst EditContact = () => {\r\n  const navigate = Navigate();\r\n  const [state, setState] = useState({});\r\n  const [data, setData] = useState({});\r\n  const { id } = useParams();\r\n  const { name, email, contact}= state;\r\n\r\n  useEffect(() => {\r\n    const contactsRef = ref(fireDB, 'contacts');\r\n    onValue(contactsRef, (snapshot) => {\r\n      if (snapshot.exists()) {\r\n        setData({ ...snapshot.val() });\r\n      } else {\r\n        setData({});\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      setData({});\r\n    };\r\n  }, [id]);\r\n \r\n  useEffect(() => {\r\n    if (id && data[id]) {\r\n      const { name, email, contact } = data[id];\r\n      setState({ name, email, contact });\r\n    } else {\r\n      setState({});\r\n    }\r\n  }, [id, data]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!name || !email || !contact) {\r\n      toast.error('Please provide a value in each input field');\r\n    } else {\r\n      const contactRef = ref(fireDB, `contacts/${id}`);\r\n      update(contactRef, { name, email, contact })\r\n        .then(() => {\r\n          toast.success('Contact updated successfully');\r\n          return <Navigate to = \"/\"/>;\r\n        })\r\n        .catch((error) => {\r\n          toast.error(error.message);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  \r\n  if (id) {\r\n    return <div>Editing Contact with ID: {id}</div>;\r\n  }\r\n\r\n  if (id){\r\n    return (\r\n    <div style={{ marginTop: '100px' }}>\r\n      <form\r\n        style={{ margin: 'auto', padding: '15px', maxWidth: '400px', alignContent: 'center' }}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <label htmlFor=\"name\">Name</label>\r\n        <input type=\"text\" id=\"name\" name=\"name\" placeholder=\"Your name\" value={state.name || ''} onChange={handleInputChange}></input>\r\n\r\n        <label htmlFor=\"email\">Email</label>\r\n        <input type=\"email\" id=\"email\" name=\"email\" placeholder=\"Your email\" value={state.email || ''} onChange={handleInputChange}></input>\r\n\r\n        <label htmlFor=\"contact\">Contact</label>\r\n        <input type=\"number\" id=\"contact\" name=\"contact\" placeholder=\"Your contact number\" value={state.contact || ''} onChange={handleInputChange}></input>\r\n\r\n        <input type=\"submit\" value={id ? 'Update' : 'Save'} />\r\n      </form>\r\n    </div>\r\n  )};\r\n};\r\n\r\nexport default EditContact;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}