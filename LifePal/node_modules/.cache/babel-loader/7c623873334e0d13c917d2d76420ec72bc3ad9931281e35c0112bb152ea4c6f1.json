{"ast":null,"code":"var _jsxFileName = \"D:\\\\MyPortfolio\\\\Agenda\\\\AgendaRepo\\\\LifePal\\\\src\\\\pages\\\\EditContact.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Navigate } from 'react-router-dom';\nimport { get, ref, update, onValue, push } from 'firebase/database';\nimport { fireDB } from '../firebase';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditContact = () => {\n  _s();\n  //const navigate = useNavigate();\n  const [state, setState] = useState({});\n  const [data, setData] = useState({});\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    const contactsRef = ref(fireDB, 'contacts');\n    onValue(contactsRef, snapshot => {\n      if (snapshot.exists()) {\n        setData({\n          ...snapshot.val()\n        });\n      } else {\n        setData({});\n      }\n    });\n    return () => {\n      setData({});\n    };\n  }, [id]);\n  useEffect(() => {\n    if (id && data[id]) {\n      const {\n        name,\n        email,\n        contact\n      } = data[id];\n      setState({\n        name,\n        email,\n        contact\n      });\n    } else {\n      setState({});\n    }\n  }, [id, data]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    const {\n      name,\n      email,\n      contact\n    } = state;\n    if (!name || !email || !contact) {\n      toast.error('Please provide a value in each input field');\n    } else {\n      const contactRef = ref(fireDB, `contacts/${id}`);\n      update(contactRef, {\n        name,\n        email,\n        contact\n      }).then(() => {\n        toast.success('Contact updated successfully');\n        history.push('/');\n      }).catch(error => {\n        toast.error(error.message);\n      });\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setState(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  if (id && !data[id]) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Contact not found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: '100px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      style: {\n        margin: 'auto',\n        padding: '15px',\n        maxWidth: '400px',\n        alignContent: 'center'\n      },\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"name\",\n        name: \"name\",\n        placeholder: \"Your name\",\n        value: state.name || '',\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        id: \"email\",\n        name: \"email\",\n        placeholder: \"Your email\",\n        value: state.email || '',\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"contact\",\n        children: \"Contact\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        id: \"contact\",\n        name: \"contact\",\n        placeholder: \"Your contact number\",\n        value: state.contact || '',\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: id ? 'Update' : 'Save'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(EditContact, \"hfIqfaRt37QKxkGKwSXa241/pio=\", false, function () {\n  return [useParams];\n});\n_c = EditContact;\nexport default EditContact;\nvar _c;\n$RefreshReg$(_c, \"EditContact\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Navigate","get","ref","update","onValue","push","fireDB","toast","jsxDEV","_jsxDEV","EditContact","_s","state","setState","data","setData","id","contactsRef","snapshot","exists","val","name","email","contact","handleSubmit","e","preventDefault","error","contactRef","then","success","history","catch","message","handleInputChange","value","target","prevState","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","margin","padding","maxWidth","alignContent","onSubmit","htmlFor","type","placeholder","onChange","_c","$RefreshReg$"],"sources":["D:/MyPortfolio/Agenda/AgendaRepo/LifePal/src/pages/EditContact.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, Navigate } from 'react-router-dom';\r\nimport { get, ref, update, onValue, push} from 'firebase/database';\r\nimport { fireDB } from '../firebase';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst EditContact = () => {\r\n  //const navigate = useNavigate();\r\n  const [state, setState] = useState({});\r\n  const [data, setData] = useState({});\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    const contactsRef = ref(fireDB, 'contacts');\r\n    onValue(contactsRef, (snapshot) => {\r\n      if (snapshot.exists()) {\r\n        setData({ ...snapshot.val() });\r\n      } else {\r\n        setData({});\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      setData({});\r\n    };\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (id && data[id]) {\r\n      const { name, email, contact } = data[id];\r\n      setState({ name, email, contact });\r\n    } else {\r\n      setState({});\r\n    }\r\n  }, [id, data]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { name, email, contact } = state;\r\n    if (!name || !email || !contact) {\r\n      toast.error('Please provide a value in each input field');\r\n    } else {\r\n      const contactRef = ref(fireDB, `contacts/${id}`);\r\n      update(contactRef, { name, email, contact })\r\n        .then(() => {\r\n          toast.success('Contact updated successfully');\r\n          history.push('/');\r\n        })\r\n        .catch((error) => {\r\n          toast.error(error.message);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  if (id && !data[id]) {\r\n    return <div>Contact not found</div>;\r\n  }\r\n\r\n  return (\r\n    <div style={{ marginTop: '100px' }}>\r\n      <form\r\n        style={{ margin: 'auto', padding: '15px', maxWidth: '400px', alignContent: 'center' }}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <label htmlFor=\"name\">Name</label>\r\n        <input type=\"text\" id=\"name\" name=\"name\" placeholder=\"Your name\" value={state.name || ''} onChange={handleInputChange}></input>\r\n\r\n        <label htmlFor=\"email\">Email</label>\r\n        <input type=\"email\" id=\"email\" name=\"email\" placeholder=\"Your email\" value={state.email || ''} onChange={handleInputChange}></input>\r\n\r\n        <label htmlFor=\"contact\">Contact</label>\r\n        <input type=\"number\" id=\"contact\" name=\"contact\" placeholder=\"Your contact number\" value={state.contact || ''} onChange={handleInputChange}></input>\r\n\r\n        <input type=\"submit\" value={id ? 'Update' : 'Save'} />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditContact;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}