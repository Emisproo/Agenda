{"ast":null,"code":"var _jsxFileName = \"D:\\\\MyPortfolio\\\\Agenda\\\\AgendaRepo\\\\LifePal\\\\src\\\\pages\\\\EditContact.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Navigate } from 'react-router-dom';\nimport { get, ref, update, onValue, push } from 'firebase/database';\nimport { fireDB } from '../firebase';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditContact = () => {\n  _s();\n  const navigate = Navigate();\n  const [state, setState] = useState({});\n  const [data, setData] = useState({});\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    const contactsRef = ref(fireDB, 'contacts');\n    onValue(contactsRef, snapshot => {\n      if (snapshot.exists()) {\n        setData({\n          ...snapshot.val()\n        });\n      } else {\n        setData({});\n      }\n    });\n    return () => {\n      setData({});\n    };\n  }, [id]);\n  console.log();\n  useEffect(() => {\n    if (id && data[id]) {\n      const {\n        name,\n        email,\n        contact\n      } = data[id];\n      setState({\n        name,\n        email,\n        contact\n      });\n    } else {\n      setState({});\n    }\n  }, [id, data]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    const {\n      name,\n      email,\n      contact\n    } = state;\n    if (!name || !email || !contact) {\n      toast.error('Please provide a value in each input field');\n    } else {\n      const contactRef = ref(fireDB, `contacts/${id}`);\n      update(contactRef, {\n        name,\n        email,\n        contact\n      }).then(() => {\n        toast.success('Contact updated successfully');\n        navigate.push('/');\n      }).catch(error => {\n        toast.error(error.message);\n      });\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setState(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  if (id) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Editing Contact with ID: \", id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 12\n    }, this);\n  }\n  if (id) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '100px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        style: {\n          margin: 'auto',\n          padding: '15px',\n          maxWidth: '400px',\n          alignContent: 'center'\n        },\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"name\",\n          name: \"name\",\n          placeholder: \"Your name\",\n          value: state.name || '',\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          name: \"email\",\n          placeholder: \"Your email\",\n          value: state.email || '',\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"contact\",\n          children: \"Contact\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"contact\",\n          name: \"contact\",\n          placeholder: \"Your contact number\",\n          value: state.contact || '',\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: id ? 'Update' : 'Save'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }, this);\n  }\n  ;\n};\n_s(EditContact, \"hfIqfaRt37QKxkGKwSXa241/pio=\", false, function () {\n  return [useParams];\n});\n_c = EditContact;\nexport default EditContact;\nvar _c;\n$RefreshReg$(_c, \"EditContact\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Navigate","get","ref","update","onValue","push","fireDB","toast","jsxDEV","_jsxDEV","EditContact","_s","navigate","state","setState","data","setData","id","contactsRef","snapshot","exists","val","console","log","name","email","contact","handleSubmit","e","preventDefault","error","contactRef","then","success","catch","message","handleInputChange","value","target","prevState","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","margin","padding","maxWidth","alignContent","onSubmit","htmlFor","type","placeholder","onChange","_c","$RefreshReg$"],"sources":["D:/MyPortfolio/Agenda/AgendaRepo/LifePal/src/pages/EditContact.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, Navigate } from 'react-router-dom';\r\nimport { get, ref, update, onValue, push} from 'firebase/database';\r\nimport { fireDB } from '../firebase';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst EditContact = () => {\r\n  const navigate = Navigate();\r\n  const [state, setState] = useState({});\r\n  const [data, setData] = useState({});\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    const contactsRef = ref(fireDB, 'contacts');\r\n    onValue(contactsRef, (snapshot) => {\r\n      if (snapshot.exists()) {\r\n        setData({ ...snapshot.val() });\r\n      } else {\r\n        setData({});\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      setData({});\r\n    };\r\n  }, [id]);\r\n  console.log()\r\n  useEffect(() => {\r\n    if (id && data[id]) {\r\n      const { name, email, contact } = data[id];\r\n      setState({ name, email, contact });\r\n    } else {\r\n      setState({});\r\n    }\r\n  }, [id, data]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { name, email, contact } = state;\r\n    if (!name || !email || !contact) {\r\n      toast.error('Please provide a value in each input field');\r\n    } else {\r\n      const contactRef = ref(fireDB, `contacts/${id}`);\r\n      update(contactRef, { name, email, contact })\r\n        .then(() => {\r\n          toast.success('Contact updated successfully');\r\n          navigate.push('/');\r\n        })\r\n        .catch((error) => {\r\n          toast.error(error.message);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  \r\n  if (id) {\r\n    return <div>Editing Contact with ID: {id}</div>;\r\n  }\r\n\r\n  if (id){\r\n    return (\r\n    <div style={{ marginTop: '100px' }}>\r\n      <form\r\n        style={{ margin: 'auto', padding: '15px', maxWidth: '400px', alignContent: 'center' }}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <label htmlFor=\"name\">Name</label>\r\n        <input type=\"text\" id=\"name\" name=\"name\" placeholder=\"Your name\" value={state.name || ''} onChange={handleInputChange}></input>\r\n\r\n        <label htmlFor=\"email\">Email</label>\r\n        <input type=\"email\" id=\"email\" name=\"email\" placeholder=\"Your email\" value={state.email || ''} onChange={handleInputChange}></input>\r\n\r\n        <label htmlFor=\"contact\">Contact</label>\r\n        <input type=\"number\" id=\"contact\" name=\"contact\" placeholder=\"Your contact number\" value={state.contact || ''} onChange={handleInputChange}></input>\r\n\r\n        <input type=\"submit\" value={id ? 'Update' : 'Save'} />\r\n      </form>\r\n    </div>\r\n  )};\r\n};\r\n\r\nexport default EditContact;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}