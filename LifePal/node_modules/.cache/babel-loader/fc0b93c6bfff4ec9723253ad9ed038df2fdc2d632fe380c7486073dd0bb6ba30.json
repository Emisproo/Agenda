{"ast":null,"code":"var _jsxFileName = \"D:\\\\MyPortfolio\\\\Agenda\\\\AgendaRepo\\\\LifePal\\\\src\\\\pages\\\\EditContact.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { get, ref, update } from 'firebase/database';\nimport { fireDB } from '../firebase';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditContact = () => {\n  _s();\n  const [state, setState] = useState(initialState);\n  const [data, setData] = useState({});\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    const contactsRef = ref(fireDB, 'contacts');\n    onValue(contactsRef, snapshot => {\n      if (snapshot.exists()) {\n        setData({\n          ...snapshot.val()\n        });\n      } else {\n        setData({});\n      }\n    });\n    return () => {\n      setData({});\n    };\n  }, [id]);\n  useEffect(() => {\n    if (id && data[id]) {\n      const {\n        name,\n        email,\n        contact\n      } = data[id];\n      setState({\n        name,\n        email,\n        contact\n      });\n    } else {\n      setState(initialState);\n    }\n  }, [id, data]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    const {\n      name,\n      email,\n      contact\n    } = state;\n    if (!name || !email || !contact) {\n      toast.error('Please provide a value in each input field');\n    } else {\n      const contactRef = ref(fireDB, `contacts/${id}`);\n      update(contactRef, {\n        name,\n        email,\n        contact\n      }).then(() => {\n        toast.success('Contact updated successfully');\n        history.push('/');\n      }).catch(error => {\n        toast.error(error.message);\n      });\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setState(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  if (id && !data[id]) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Contact not found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: '100px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      style: {\n        margin: 'auto',\n        padding: '15px',\n        maxWidth: '400px',\n        alignContent: 'center'\n      },\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"name\",\n        name: \"name\",\n        placeholder: \"Your name\",\n        value: state.name || '',\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        id: \"email\",\n        name: \"email\",\n        placeholder: \"Your email\",\n        value: state.email || '',\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"contact\",\n        children: \"Contact\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        id: \"contact\",\n        name: \"contact\",\n        placeholder: \"Your contact number\",\n        value: state.contact || '',\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: id ? 'Update' : 'Save'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(EditContact, \"WlxMnauwTLenz0fzByb9G4UWzuo=\", false, function () {\n  return [useParams];\n});\n_c = EditContact;\nexport default Edi;\nvar _c;\n$RefreshReg$(_c, \"EditContact\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useHistory","get","ref","update","fireDB","toast","jsxDEV","_jsxDEV","EditContact","_s","state","setState","initialState","data","setData","id","contactsRef","onValue","snapshot","exists","val","name","email","contact","handleSubmit","e","preventDefault","error","contactRef","then","success","history","push","catch","message","handleInputChange","value","target","prevState","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","margin","padding","maxWidth","alignContent","onSubmit","htmlFor","type","placeholder","onChange","_c","Edi","$RefreshReg$"],"sources":["D:/MyPortfolio/Agenda/AgendaRepo/LifePal/src/pages/EditContact.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { get, ref, update } from 'firebase/database';\r\nimport { fireDB } from '../firebase';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst EditContact = () => {\r\n  const [state, setState] = useState(initialState);\r\n  const [data, setData] = useState({});\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    const contactsRef = ref(fireDB, 'contacts');\r\n    onValue(contactsRef, (snapshot) => {\r\n      if (snapshot.exists()) {\r\n        setData({ ...snapshot.val() });\r\n      } else {\r\n        setData({});\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      setData({});\r\n    };\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (id && data[id]) {\r\n      const { name, email, contact } = data[id];\r\n      setState({ name, email, contact });\r\n    } else {\r\n      setState(initialState);\r\n    }\r\n  }, [id, data]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { name, email, contact } = state;\r\n    if (!name || !email || !contact) {\r\n      toast.error('Please provide a value in each input field');\r\n    } else {\r\n      const contactRef = ref(fireDB, `contacts/${id}`);\r\n      update(contactRef, { name, email, contact })\r\n        .then(() => {\r\n          toast.success('Contact updated successfully');\r\n          history.push('/');\r\n        })\r\n        .catch((error) => {\r\n          toast.error(error.message);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  if (id && !data[id]) {\r\n    return <div>Contact not found</div>;\r\n  }\r\n\r\n  return (\r\n    <div style={{ marginTop: '100px' }}>\r\n      <form\r\n        style={{ margin: 'auto', padding: '15px', maxWidth: '400px', alignContent: 'center' }}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <label htmlFor=\"name\">Name</label>\r\n        <input type=\"text\" id=\"name\" name=\"name\" placeholder=\"Your name\" value={state.name || ''} onChange={handleInputChange}></input>\r\n\r\n        <label htmlFor=\"email\">Email</label>\r\n        <input type=\"email\" id=\"email\" name=\"email\" placeholder=\"Your email\" value={state.email || ''} onChange={handleInputChange}></input>\r\n\r\n        <label htmlFor=\"contact\">Contact</label>\r\n        <input type=\"number\" id=\"contact\" name=\"contact\" placeholder=\"Your contact number\" value={state.contact || ''} onChange={handleInputChange}></input>\r\n\r\n        <input type=\"submit\" value={id ? 'Update' : 'Save'} />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Edi"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}